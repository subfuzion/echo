require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var EchoClient=module.exports=function(){this.uri=null;this.ws=null;this.lastSentTimestamp=null;this.lastReceivedTimestamp=null;this.cache=null;this.onopen=null;this.onclose=null;this.onerror=null;this.onmessage=null;this.onhistory=null};EchoClient.prototype.open=function(uri){var self=this;function callHandler(event){var handler=self["on"+event];if(typeof handler=="function"){handler.apply(handler,[].slice.call(arguments,1))}}if(this.isOpen()){console.log("error: already open on uri "+this.uri);callHandler("error","already open on uri "+this.uri);return}if(!EchoClient.validatePort){console.log("error: invalid port: "+this.port);callHandler("error","invalid port");return}this.uri=uri;try{this.ws=new WebSocket(uri)}catch(err){callHandler("error",err);return}this.ws.onopen=function(){callHandler("open")};this.ws.onclose=function(){callHandler("close")};this.ws.onmessage=function(messageEvent){self.lastReceivedTimestamp=(new Date).getTime();var message=JSON.parse(messageEvent.data);message.responseTime=self.lastReceivedTimestamp-self.lastSentTimestamp;if(message.type=="history"){self.cache=message;callHandler("history",message)}else{self.cache=null;callHandler("message",message)}};this.ws.onerror=function(err){callHandler("error",err)}};EchoClient.prototype.close=function(){if(this.isClosed()){console.log("already closed");return}this.ws.close();this.ws=null;this.uri=null};EchoClient.prototype.isOpen=function(){return this.ws instanceof WebSocket};EchoClient.prototype.isClosed=function(){return!this.isOpen()};EchoClient.prototype.send=function(message){if(!message||!this.isOpen())return;this.lastSentTimestamp=(new Date).getTime();this.ws.send(message)};EchoClient.prototype.sendHistoryCommand=function(){this.send("[HISTORY]")};EchoClient.prototype.historyFilter=function(pattern){if(!this.cache||!this.isOpen())return[];if(!pattern)return this.cache;var regex=new RegExp(pattern,"i");var filtered=_.filter(this.cache.messages,function(message){return regex.test(message)});return{status:this.cache.status,responseTime:this.cache.responseTime,messages:filtered}};EchoClient.validatePort=function(port){return port>=1024&&port<65535}},{}],CNGsbw:[function(require,module,exports){module.exports={start:function(host){var App=require("./models/App");var ServerControlView=require("./views/ServerControlView"),MessagePanelView=require("./views/MessagePanelView");var app=new App({host:host});new ServerControlView({model:app,el:"#server-control"});new MessagePanelView({model:app,el:"#message-panel"})}}},{"./models/App":4,"./views/MessagePanelView":7,"./views/ServerControlView":10}],echo:[function(require,module,exports){module.exports=require("CNGsbw")},{}],4:[function(require,module,exports){var EchoClient=require("./../libs/echoclient"),EchoResponse=require("./EchoResponse");var App=Backbone.Model.extend({defaults:{host:"localhost",serverState:"stopped"},initialize:function(){},validate:function(attrs){if(!EchoClient.validatePort(attrs.port)){console.log("port not valid: "+attrs.port);return"invalid port"}},startServer:function(){this.sendServerCommand("start")},stopServer:function(){this.sendServerCommand("stop")},sendServerCommand:function(command){if(!this.isValid()){console.log("sendServerCommand state not valid for command: "+command);return}if(command=="start"&&this.serverState=="started"){console.log("server already started");return}if(command=="stop"&&this.serverState=="stopped"){console.log("server already stopped");return}this.set("serverError","");var port=this.get("port");var self=this;$.post("/api/v1/echoserver/"+port+"/"+command,function(result){if(result&&result.status=="error"){if(command=="stop"){self.set("serverState","stopped");return}self.trigger("serverError",result.message);return}var started=/started/.test(result.message,"i");if(started){console.log("server started on port "+self.get("port"));self.set("serverState","started")}else{console.log("server stopped on port "+self.get("port"));self.set("serverState","stopped")}})},open:function(){if(this.client!=null){console.log("error: client already open");return}console.log("open connection to "+this.get("port"));this.client=new EchoClient;var self=this;self.client.onopen=function(){console.log("connection is open");self.set("isOpen",true);self.trigger("open")};self.client.onclose=function(){console.log("connection is closed");self.client.onopen=null;self.client.onclose=null;self.client.onerror=null;self.client.onmessage=null;self.client.onhistory=null;self.client=null;self.set("isOpen",false);self.trigger("close")};self.client.onerror=function(err){console.log("-----");console.log("client error:");console.log(err);console.log("-----");self.client.onopen=null;self.client.onclose=null;self.client.onerror=null;self.client.onmessage=null;self.client.onhistory=null;self.client=null;self.set("isOpen",false);self.trigger("error",err.message)};self.client.onmessage=function(response){var er=new EchoResponse(response);self.trigger("message",er)};self.client.onhistory=function(response){var er=new EchoResponse(response);self.trigger("history",er)};var uri="ws://"+this.get("host")+":"+this.get("port");console.log("opening connection to "+uri);this.client.open(uri)},close:function(){if(this.client==null||this.client.isClosed())return;console.log("close connection to "+this.get("port"));this.client.close()},send:function(message){if(this.client&&!this.client.isOpen())return;this.client.send(message)},sendHistoryCommand:function(){if(this.client&&!this.client.isOpen())return;this.client.sendHistoryCommand()},historyFilter:function(pattern){if(!this.client)return[];return this.client.historyFilter(pattern)}});module.exports=App},{"./../libs/echoclient":1,"./EchoResponse":5}],5:[function(require,module,exports){var EchoResponse=Backbone.Model.extend({defaults:{status:"",responseTime:(new Date).getTime(),type:"message",messages:[""]},toDisplayString:function(){return this.get("type")!="message"?"[response] "+this.get("responseTime")+"ms":'"'+this.get("messages")[0]+'", '+this.get("responseTime")+"ms"}});module.exports=EchoResponse},{}],6:[function(require,module,exports){var EchoResponse=require("./../models/EchoResponse");module.exports=Backbone.View.extend({initialize:function(options){var self=this;this.render();this.model.on("history",function(response){self.render(response)})},events:{"input #searchfilter":"filterMessages","click #btngethistory":"getHistory"},template:require("./templates/message-history.hbs"),render:function(){var response=arguments[0]||[];var messages=response instanceof EchoResponse?response.toJSON().messages:response.messages;var args={messages:messages};this.$el.html(this.template(args));this.filterPattern(this.pattern);return this},getHistory:function(){this.model.sendHistoryCommand()},filterPattern:function(){if(arguments.length==0){return $("#searchfilter").val()}else{$("#searchfilter").val(arguments[0]);$("#searchfilter").focus()}},filterMessages:function(){this.pattern=this.filterPattern();var filtered=this.model.historyFilter(this.pattern);this.render(filtered)}})},{"./../models/EchoResponse":5,"./templates/message-history.hbs":11}],7:[function(require,module,exports){var MessageSendView=require("./MessageSendView"),MessageReceiveView=require("./MessageReceiveView"),MessageHistoryView=require("./MessageHistoryView");module.exports=Backbone.View.extend({initialize:function(){this.sendView=new MessageSendView({model:this.model});this.receiveView=new MessageReceiveView({model:this.model});this.historyView=new MessageHistoryView({model:this.model,el:"#message-history"});this.model.on("open close",this.render)},template:require("./templates/message-panel.hbs"),render:function(){var serverState=this.model.get("isOpen");var args={hidden:serverState=="started"?"visible":"collapse"};this.$el.html(this.template(args));this.sendView.setElement(this.$("#message-send")).render();this.receiveView.setElement(this.$("#message-receive")).render();this.historyView.setElement(this.$("#message-history")).render();$("#message").focus();return this}})},{"./MessageHistoryView":6,"./MessageReceiveView":8,"./MessageSendView":9,"./templates/message-panel.hbs":12}],8:[function(require,module,exports){var EchoResponse=require("./../models/EchoResponse");module.exports=Backbone.View.extend({initialize:function(){var self=this;this.model.on("message history",function(response){self.render(response)})},template:require("./templates/message-receive.hbs"),render:function(){var response=arguments[0];if(!(response instanceof EchoResponse))return;var args={message:response.toDisplayString()};this.$el.html(this.template(args));return this}})},{"./../models/EchoResponse":5,"./templates/message-receive.hbs":13}],9:[function(require,module,exports){module.exports=Backbone.View.extend({initialize:function(){this.render()},events:{"click #btnsendmessage":"sendMessage","input #message":"toggleEnableButton"},template:require("./templates/message-send.hbs"),render:function(){var args={};this.$el.html(this.template(args));$("#message").focus();return this},messageText:function(){if(arguments.length==0){return $("#message").val()}else{$("#message").val(arguments[0])}},toggleEnableButton:function(){if(this.messageText()){console.log("value");$("#btnsendmessage").removeClass("disabled")}else{console.log("empty");$("#btnsendmessage").addClass("disabled")}},sendMessage:function(){var message=this.messageText();if(message)this.model.send(message);this.messageText("")}})},{"./templates/message-send.hbs":14}],10:[function(require,module,exports){module.exports=Backbone.View.extend({serverErrorMessage:null,initialize:function(){var self=this;this.render();this.listenTo(this.model,"change:serverState",function(){var serverState=this.model.get("serverState");console.log("change in server state => "+serverState);self.render();if(serverState=="started"){console.log("open request");this.model.open()}else{console.log("close request");this.model.close()}});this.model.on("serverError",function(err){self.error=err;self.render()});this.model.on("error",function(err){self.error=err;self.render()})},events:{"click #btnserver":"togglestart"},template:require("./templates/server-control.hbs"),render:function(){console.log("rendering start server");var port=this.model.get("port");var serverState=this.model.get("serverState");var serverStateText=serverState=="started"?"started (port "+port+")":serverState;var error=this.error?" Error: "+this.error:null;var serverErrorClass=error?"visible":"hidden";var args={stateClass:serverState,serverState:serverStateText,serverPort:port,inputVisibility:serverState=="started"?"collapse":"visible",serverCommand:serverState=="started"?"Stop":"Start",serverErrorClass:serverErrorClass,serverError:error};this.$el.html(this.template(args));$("#portnumber").focus();return this},port:function(){return $("#portnumber").val()},togglestart:function(){this.error=null;$("#server-error").html("");var port=this.port();this.model.set("port",port,{validate:true});if(this.model.validationError){$("#portnumber").val("");return}var command=this.model.get("serverState")=="started"?"stop":"start";this.model.sendServerCommand(command)}})},{"./templates/server-control.hbs":15}],11:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="";buffer+='\n          <li class="list-group-item">\n            '+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+"\n          </li>\n        ";return buffer}buffer+='<div class="row">\n  <div class="col-md-4 col-md-offset-4">\n    <button type="button" class="btn btn-info" id="btngethistory">Show\n      History\n    </button>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-4 col-md-offset-4">\n    <h3>Messages</h3>\n\n    <div class="input-group">\n      <input type="text" class="form-control search" id="searchfilter"\n             placeholder="type here to search"/>\n        <span class="input-group-addon"><i\n            class="glyphicon glyphicon-search"></i></span>\n    </div>\n\n    <div id="history">\n      <ul class="list list-group">\n        ';stack1=helpers.each.call(depth0,depth0&&depth0.messages,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+="\n      </ul>\n    </div>\n  </div>\n</div>\n";return buffer})},{"hbsfy/runtime":23}],12:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,functionType="function",escapeExpression=this.escapeExpression;buffer+='<div class="';if(helper=helpers.hidden){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.hidden;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'">\n\n  <div id="message-send"> </div>\n\n  <div id="message-receive"></div>\n\n  <div id="message-history"></div>\n\n</div>\n';return buffer})},{"hbsfy/runtime":23}],13:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,functionType="function",escapeExpression=this.escapeExpression;buffer+='<div class="row">\n  <div class="col-md-4 col-md-offset-4" id="info">\n    <div class="alert alert-info">\n      <strong>';if(helper=helpers.message){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.message;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"</strong>\n    </div>\n  </div>\n</div>\n";return buffer})},{"hbsfy/runtime":23}],14:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return'<div class="row topmargin">\n  <div class="col-md-4 col-md-offset-4">\n    <div class="well">\n      <form role="form" id="formmessage">\n        <div class="form-group">\n          <label for="message">Message</label>\n\n          <div class="input-group">\n            <input type="text" class="form-control" id="message"\n                   placeholder="Send message...">\n              <span class="input-group-btn">\n                <button type="submit" class="btn btn-default"\n                        id="btnsendmessage">Send\n                </button>\n              </span>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n'})},{"hbsfy/runtime":23}],15:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,functionType="function",escapeExpression=this.escapeExpression;buffer+='<div class="row">\n  <div class="col-md-4 col-md-offset-4">\n    <div class="well">\n      <form role="form" action="/#">\n        <div class="form-group">\n\n          <div class="form-inline">\n            <label for="portnumber">Echo Server</label>\n            <span id="server-state" class="';if(helper=helpers.stateClass){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.stateClass;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'">';if(helper=helpers.serverState){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.serverState;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'</span>\n          </div>\n\n          <input type="text" class="form-control ';if(helper=helpers.inputVisibility){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.inputVisibility;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" id="portnumber"\n                 placeholder="Enter port between 1024-65535"\n                 value="';if(helper=helpers.serverPort){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.serverPort;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'">\n        </div>\n        <div class="form-inline">\n          <button type="submit" class="btn btn-default"\n                  id="btnserver">';if(helper=helpers.serverCommand){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.serverCommand;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\n          </button>\n        </div>\n        <div class="form-inline">\n          <span id="server-error" class="';if(helper=helpers.serverErrorClass){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.serverErrorClass;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'">';if(helper=helpers.serverError){stack1=helper.call(depth0,{hash:{},data:data})}else{helper=depth0&&depth0.serverError;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"</span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n";return buffer})},{"hbsfy/runtime":23}],16:[function(require,module,exports){"use strict";var base=require("./handlebars/base");var SafeString=require("./handlebars/safe-string")["default"];var Exception=require("./handlebars/exception")["default"];var Utils=require("./handlebars/utils");var runtime=require("./handlebars/runtime");var create=function(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=SafeString;hb.Exception=Exception;hb.Utils=Utils;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb};var Handlebars=create();Handlebars.create=create;exports["default"]=Handlebars},{"./handlebars/base":17,"./handlebars/exception":18,"./handlebars/runtime":19,"./handlebars/safe-string":20,"./handlebars/utils":21}],17:[function(require,module,exports){"use strict";var Utils=require("./utils");var Exception=require("./exception")["default"];var VERSION="1.3.0";exports.VERSION=VERSION;var COMPILER_REVISION=4;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this)}exports.HandlebarsEnvironment=HandlebarsEnvironment;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Exception("Arg not supported with multiple helpers")}Utils.extend(this.helpers,name)}else{if(inverse){fn.not=inverse}this.helpers[name]=fn}},registerPartial:function(name,str){if(toString.call(name)===objectType){Utils.extend(this.partials,name)}else{this.partials[name]=str}}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Exception("Missing helper: '"+arg+"'")}});instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;if(isFunction(context)){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(isArray(context)){if(context.length>0){return instance.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});instance.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(isFunction(context)){context=context.call(this)}if(options.data){data=createFrame(options.data)}if(context&&typeof context==="object"){if(isArray(context)){for(var j=context.length;i<j;i++){if(data){data.index=i;data.first=i===0;data.last=i===context.length-1}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key;data.index=i;data.first=i===0}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});instance.registerHelper("if",function(conditional,options){if(isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})});instance.registerHelper("with",function(context,options){if(isFunction(context)){context=context.call(this)}if(!Utils.isEmpty(context))return options.fn(context)});instance.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};exports.logger=logger;function log(level,obj){logger.log(level,obj)}exports.log=log;var createFrame=function(object){var obj={};Utils.extend(obj,object);return obj};exports.createFrame=createFrame},{"./exception":18,"./utils":21}],18:[function(require,module,exports){"use strict";var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var line;if(node&&node.firstLine){line=node.firstLine;message+=" - "+line+":"+node.firstColumn}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(line){this.lineNumber=line;this.column=node.firstColumn}}Exception.prototype=new Error;exports["default"]=Exception},{}],19:[function(require,module,exports){"use strict";var Utils=require("./utils");var Exception=require("./exception")["default"];var COMPILER_REVISION=require("./base").COMPILER_REVISION;var REVISION_CHANGES=require("./base").REVISION_CHANGES;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}exports.checkRevision=checkRevision;function template(templateSpec,env){if(!env){throw new Exception("No environment passed to template")}var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments);if(result!=null){return result}if(env.compile){var options={helpers:helpers,partials:partials,data:data};partials[name]=env.compile(partial,{data:data!==undefined},env);return partials[name](context,options)}else{throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}};var container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){programWrapper=program(i,fn,data)}else if(!programWrapper){programWrapper=this.programs[i]=program(i,fn)}return programWrapper},merge:function(param,common){var ret=param||common;if(param&&common&&param!==common){ret={};Utils.extend(ret,common);Utils.extend(ret,param)}return ret},programWithDepth:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials;if(!options.partial){helpers=options.helpers;partials=options.partials}var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);if(!options.partial){env.VM.checkRevision(container.compilerInfo)}return result}}exports.template=template;function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3);var prog=function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))};prog.program=i;prog.depth=args.length;return prog}exports.programWithDepth=programWithDepth;function program(i,fn,data){var prog=function(context,options){options=options||{};return fn(context,options.data||data)};prog.program=i;prog.depth=0;return prog}exports.program=program;function invokePartial(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}exports.invokePartial=invokePartial;function noop(){return""}exports.noop=noop},{"./base":17,"./exception":18,"./utils":21}],20:[function(require,module,exports){"use strict";function SafeString(string){this.string=string}SafeString.prototype.toString=function(){return""+this.string};exports["default"]=SafeString},{}],21:[function(require,module,exports){"use strict";var SafeString=require("./safe-string")["default"];var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]||"&amp;"}function extend(obj,value){for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){obj[key]=value[key]}}}exports.extend=extend;var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return typeof value==="function"};if(isFunction(/x/)){isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}var isFunction;exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};exports.isArray=isArray;function escapeExpression(string){if(string instanceof SafeString){return string.toString()}else if(!string&&string!==0){return""}string=""+string;if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}exports.escapeExpression=escapeExpression;function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}exports.isEmpty=isEmpty},{"./safe-string":20}],22:[function(require,module,exports){module.exports=require("./dist/cjs/handlebars.runtime")},{"./dist/cjs/handlebars.runtime":16}],23:[function(require,module,exports){module.exports=require("handlebars/runtime")["default"]},{"handlebars/runtime":22}]},{},[]);